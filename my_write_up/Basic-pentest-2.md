
# Basic-pentest-2
# DC-3
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/1.png" >
</p>
Let’s start with scanning my local private network to get the adress IP of my target.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/netdiscover.png" >
</p>
the adress of my target => 10.0.4.22
Our next step is to scan our target with NMAP.
```
nmap -sC -sV -o scan.nmap 10.0.4.22
```
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/scan.png">
</p>
there is one port open: 80=> server APACHE.
Let's check the server Apache on port 80.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/1.png" >
</p>
We start enumerating directories with **gobuster tool**.
```
gobuster dir -u 10.0.4.22 -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt
```
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/2.png" >
</p>
There is development file (developpers always give a chance to an attackerto get in hhhh)
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/3.png" >
</p>
check the div.txt file.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/4.png" >
</p>
Smb is configured,let's enumerate shared files, servers, domains and users with enum4Linux.
IMPORTANT: read this articles is soo informative. [samba enumeration tool](https://www.hackingarticles.in/a-little-guide-to-smb-enumeration/)
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/5.png" >
</p>
 jan and kay are system users. We try to brute force the kay's password with hydra but not found. we try with jan and we get
 his passsword : **armando**.
 <p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/ssh.png" >
</p>
We logged in with jan credentials. there is nothing in jan home directory, we check the kay home directory, we can read his private key.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/6.png" >
</p>
We move the private key of kay user to my home directory.
```
scp jan@10.0.4.22:/home/kay/.ssh/id_rsa .
```
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/7.png" >
</p>
the authentication with kay's private key require the passphrase.ssh2john and john can crack the private key passphrase.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/8.png" >
</p>
Great, we logged in successfully.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/9.png" >
</p>
We have successfully gained access to kay. Now let’s try and read that pass.bak file. It contain the password of kay user.
After we run **sudo -l** to get commands that kay can run as root, it has the priviledge to run all commands as root.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/10.png" >
</p>
Great, let’s check the /root directory  to get the flag.
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/Basic-pentest-2/root_access.png" >
</p>
<p align="center">
  <img src="https://rajoul.github.io/my_write_up/image/gif/salut.gif" width="460" height="170">
</p>
support me on [twitter](https://twitter.com/rajoul6)










